<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü—ä–ª–Ω–∞ –ì–∞–ª–µ—Ä–∏—è | –¢–û–ü –ü–ê–†–ö–ï–¢ –í–ê–†–ù–ê</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .full-gallery-wrapper { 
      padding: 40px 0; 
      background: linear-gradient(135deg, rgba(248, 249, 250, 0.95), rgba(233, 236, 239, 0.95));
    }
    .full-gallery-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
      gap: 40px;
      margin-top: 40px;
    }
    @media (max-width: 768px) { 
      .full-gallery-container { 
        grid-template-columns: 1fr; 
        gap: 30px;
      }
    }
    @media (max-width: 480px) {
      .full-gallery-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }
  </style>
  </head>
  <body>
    <header class="header" id="header">
      <div class="container">
        <div class="header__content">
          <div class="header__logo"><h1>–¢–û–ü –ü–ê–†–ö–ï–¢ –í–ê–†–ù–ê</h1></div>
          <nav class="header__nav" id="nav">
            <ul class="nav__list">
              <li><a href="index.html#home">–ù–∞—á–∞–ª–æ</a></li>
              <li><a href="index.html#services">–£—Å–ª—É–≥–∏</a></li>
              <li><a href="index.html#gallery">–ì–∞–ª–µ—Ä–∏—è</a></li>
              <li><a href="index.html#pricing">–¶–µ–Ω–∏</a></li>
              <li><a href="index.html#testimonials">–ó–∞ –Ω–∞—Å</a></li>
              <li><a href="index.html#contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
            </ul>
          </nav>
          <div class="header__cta">
            <a href="tel:0887726236" class="header__phone">0887726236</a>
            <a class="btn btn--primary" href="index.html#contact">–ó–∞—è–≤–∫–∞ —Å–µ–≥–∞</a>
          </div>
        </div>
      </div>
    </header>
    <main class="full-gallery-wrapper">
      <div class="container">
        <div class="section-header">
          <h2>–ü—ä–ª–Ω–∞ –ì–∞–ª–µ—Ä–∏—è</h2>
          <p>–ü—Ä–µ–¥–∏ –∏ —Å–ª–µ–¥ –æ—Ç –Ω–∞—à–∏ —Ä–µ–∞–ª–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∏ - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</p>
        </div>
        <div class="full-gallery-container" id="fullGalleryContainer"></div>
      </div>
    </main>
    <div class="sticky-contact" id="stickyContact">
      <a href="tel:0887726236" class="sticky-phone"><span class="sticky-phone__icon">üìû</span></a>
    </div>
    <script src="app.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        initFullGallery();
      });

      function initFullGallery() {
        const container = document.getElementById('fullGalleryContainer');
        if (!container) return;

        // Build before/after pairs
        const pairs = buildBeforeAfterPairs();
        const validPairs = pairs.slice(0, 20); // Show first 20 pairs

        // Render individual sliders
        validPairs.forEach((pair, index) => {
          const sliderWrapper = document.createElement('div');
          sliderWrapper.className = 'before-after-container';
          sliderWrapper.innerHTML = `
            <div class="before-after-slider full-gallery-slider">
              <div class="before-after-slide active">
                <div class="before-after-slide__container">
                  <img src="${pair.before}" alt="–ü—Ä–µ–¥–∏ - –ø—Ä–æ–µ–∫—Ç ${pair.index}" class="before-after-slide__before" />
                  <img src="${pair.after}" alt="–°–ª–µ–¥ - –ø—Ä–æ–µ–∫—Ç ${pair.index}" class="before-after-slide__after" />
                  <div class="before-after-slide__handle"></div>
                  <div class="before-after-slide__labels">
                    <div class="before-after-slide__label before-after-slide__label--before">–ü—Ä–µ–¥–∏ –Ω–∞—Å</div>
                    <div class="before-after-slide__label before-after-slide__label--after">–°–ª–µ–¥ –Ω–∞—Å</div>
                  </div>
                </div>
              </div>
            </div>
          `;
          container.appendChild(sliderWrapper);
        });

        // Initialize drag functionality for all sliders
        initFullGalleryDrag();
      }

      function buildBeforeAfterPairs() {
        const pairs = [];
        for (let i = 1; i <= 50; i++) {
          pairs.push({
            before: `gallery_images/${i}-–ü—Ä–µ–¥–∏.jpg`,
            after: `gallery_images/${i}-–°–ª–µ–¥.jpg`,
            index: i
          });
        }
        return pairs;
      }

      function initFullGalleryDrag() {
        const sliders = document.querySelectorAll('.full-gallery-slider');
        
        sliders.forEach(slider => {
          const container = slider.querySelector('.before-after-slide__container');
          const beforeImg = slider.querySelector('.before-after-slide__before');
          const afterImg = slider.querySelector('.before-after-slide__after');
          const handle = slider.querySelector('.before-after-slide__handle');
          const beforeLabel = slider.querySelector('.before-after-slide__label--before');
          const afterLabel = slider.querySelector('.before-after-slide__label--after');
          
          if (!container || !beforeImg || !afterImg || !handle) return;
          
          let isDragging = false;
          let startX = 0;
          let currentX = 0;
          
          function updateSliderPosition(x) {
            const rect = container.getBoundingClientRect();
            const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));
            
            beforeImg.style.clipPath = `inset(0 ${100 - percentage}% 0 0)`;
            afterImg.style.clipPath = `inset(0 0 0 ${percentage}%)`;
            handle.style.left = `${percentage}%`;
            
            // Update label visibility
            if (percentage < 20) {
              beforeLabel.style.opacity = '0';
              afterLabel.style.opacity = '1';
            } else if (percentage > 80) {
              beforeLabel.style.opacity = '1';
              afterLabel.style.opacity = '0';
            } else {
              beforeLabel.style.opacity = '1';
              afterLabel.style.opacity = '1';
            }
          }
          
          function startDrag(e) {
            isDragging = true;
            startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
            currentX = startX;
            
            container.style.cursor = 'grabbing';
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);
            document.addEventListener('touchmove', drag, { passive: false });
            document.addEventListener('touchend', endDrag);
            
            e.preventDefault();
          }
          
          function drag(e) {
            if (!isDragging) return;
            
            currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
            const rect = container.getBoundingClientRect();
            const x = currentX - rect.left;
            
            updateSliderPosition(x);
            e.preventDefault();
          }
          
          function endDrag() {
            if (!isDragging) return;
            
            isDragging = false;
            container.style.cursor = 'grab';
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', endDrag);
            document.removeEventListener('touchmove', drag);
            document.removeEventListener('touchend', endDrag);
          }
          
          // Event listeners
          handle.addEventListener('mousedown', startDrag);
          handle.addEventListener('touchstart', startDrag);
          container.addEventListener('mousedown', startDrag);
          container.addEventListener('touchstart', startDrag);
          
          // Initialize at 50%
          setTimeout(() => {
            updateSliderPosition(container.getBoundingClientRect().width / 2);
          }, 100);
        });
      }
    </script>
  </body>
  </html>


